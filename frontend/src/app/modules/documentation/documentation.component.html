<div class="content-container">

    <nav [clr-nav-level]="2" class="sidenav">
        <section class="sidenav-content">
            <section *ngFor="let plugin of plugins" class="nav-group collapsible">
                <input [id]="plugin.id" type="checkbox">
                <label [for]="plugin.id">Plugin: {{plugin.id}}</label>
                <ul class="nav-list">
                    <li><a (click)=" this.selectedModule = plugin"
                           class="nav-link">Description</a>
                    </li>
                    <li>
                        <b class="nav-text">&nbsp;&nbsp;&nbsp;Modules</b>
                        <ul class="nav-list">
                            <li *ngFor="let module of plugin.modules">
                                <a (click)=" this.selectedModule = module"
                                   class="nav-link">{{module.id}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
        </section>
    </nav>
    <div class="content-area">
        <markdown [data]="selectedModule.documentation"></markdown>
        <clr-accordion *ngIf="selectedModule.fields">
            <clr-accordion-panel>
                <clr-accordion-title>Expected Fields</clr-accordion-title>

                <clr-accordion-content *clrIfExpanded>
                    <pre>{{selectedModule.fields | json}}</pre>
                </clr-accordion-content>
            </clr-accordion-panel>
        </clr-accordion>

        <clr-accordion *ngIf="selectedModule.code">
            <clr-accordion-panel>
                <clr-accordion-title>Code</clr-accordion-title>

                <clr-accordion-content *clrIfExpanded>
                    <markdown [data]="selectedModule.code | language : 'python' | markdown"></markdown>
                </clr-accordion-content>
            </clr-accordion-panel>
        </clr-accordion>
    </div>
</div>
